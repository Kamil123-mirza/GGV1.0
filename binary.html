<!doctype html>
<html lang="hi">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>GGV 1.0</title>
  <style>
    :root {
      --bg: #0f1724;
      --card: #0b1220;
      --accent: #06b6d4;
      --muted: #94a3b8;
      --glass: rgba(255, 255, 255, 0.03)
    }

    * {
      box-sizing: border-box;
      font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Noto Sans', 'Helvetica Neue', Arial
    }

    body {
      margin: 0;
      min-height: 100vh;
      background: linear-gradient(180deg, #071024 0%, #071a2f 100%);
      color: #e6eef6;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 28px
    }

    .card {
      width: 100%;
      max-width: 920px;
      background: linear-gradient(180deg, rgba(255, 255, 255, 0.02), rgba(255, 255, 255, 0.01));
      border-radius: 12px;
      padding: 22px;
      box-shadow: 0 6px 30px rgba(2, 6, 23, 0.6);
      border: 1px solid rgba(255, 255, 255, 0.03)
    }

    header {
      display: flex;
      gap: 16px;
      align-items: center;
      margin-bottom: 14px
    }

    header h1 {
      font-size: 20px;
      margin: 0
    }

    header p {
      margin: 0;
      color: var(--muted);
      font-size: 13px
    }

    .grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 14px
    }

    .panel {
      background: var(--card);
      padding: 14px;
      border-radius: 10px;
      border: 1px solid var(--glass);
      min-height: 220px;
      display: flex;
      flex-direction: column
    }

    label {
      font-size: 13px;
      color: var(--muted);
      margin-bottom: 8px
    }

    textarea {
      flex: 1;
      background: transparent;
      border: 1px dashed rgba(255, 255, 255, 0.03);
      padding: 12px;
      border-radius: 8px;
      color: inherit;
      resize: vertical;
      min-height: 120px
    }

    .controls {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
      margin-top: 10px
    }

    button {
      background: transparent;
      border: 1px solid rgba(255, 255, 255, 0.06);
      padding: 8px 12px;
      border-radius: 8px;
      color: inherit;
      cursor: pointer
    }

    button.primary {
      background: linear-gradient(90deg, var(--accent), #7c3aed);
      border: none
    }

    .row {
      display: flex;
      gap: 8px;
      align-items: center
    }

    .output {
      white-space: pre-wrap;
      word-break: break-word;
      padding: 10px;
      border-radius: 8px;
      border: 1px solid rgba(255, 255, 255, 0.03);
      background: rgba(255, 255, 255, 0.01);
      min-height: 120px
    }

    .status {
      font-size: 13px;
      color: var(--muted);
      margin-top: 8px
    }

    footer {
      margin-top: 14px;
      display: flex;
      justify-content: space-between;
      align-items: center
    }

    .small {
      font-size: 12px;
      color: var(--muted)
    }

    .copy {
      margin-left: auto
    }

    .home {
      position: absolute;
      width: 10%;
      height: 5vh;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      color: white;
      left: 5%;
      top: 1vh;
    }

    .home:hover {
      position: absolute;
      width: 10%;
      height: 5vh;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      color: #ffce08;
      left: 5%;
      top: 1vh;
      cursor: pointer;
      background-color: black;
      border-radius: 1vh;
      border: .5px solid #ffce08;
    }
    @media (max-width:820px) {
      .home {
        position: absolute;
        width: 25%;
        height: 5vh;
        font-size: 1vh;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        color:white;
        left: 5%;
        top: 1vh;
      }
      .home:hover{
        position: absolute;
        width: 25%;
        height: 5vh;
        font-size: 1vh;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        color:#ffce08;
        border-radius: 1vh;
        background-color: black;
        border: 1px solid #ffce08;
        left: 5%;
        top: 1vh;
      }
      .grid {
        grid-template-columns: 1fr
      }
    }

  </style>
</head>

<body>
  <div class="home">Go to Home Page</div>
  <div class="card">
    <header>
      <div>
        <h1>Text ↔ Binary Converter</h1>
        <p>Text को 8-bit binary में बदलें और binary को वापस text में बदलें — आसान और तेज़।</p>
      </div>
    </header>

    <div class="grid">
      <div class="panel">
        <label for="input">Input (Text या Binary)</label>
        <textarea id="input" placeholder="यहाँ टाइप करें... या binary डालें (space-separated या continuous)"></textarea>
        <div class="controls">
          <button id="toBinary" class="primary">Text → Binary</button>
          <button id="toText">Binary → Text</button>
          <button id="clear">Clear</button>
          <button id="paste">Paste (Clipboard)</button>
          <button id="loadSample">Sample Text</button>
        </div>
        <div class="status" id="status">Ready.</div>
      </div>

      <div class="panel">
        <label>Output</label>
        <div id="output" class="output" aria-live="polite">—</div>
        <div style="display:flex;gap:8px;margin-top:10px;align-items:center">
          <button id="copyOutput">Copy Output</button>
          <button id="download" title="Download output as .txt">Download .txt</button>
          <div class="small" style="margin-left:auto">Encoding: <strong id="encoding">—</strong></div>
        </div>
      </div>
    </div>

    <footer>
      <div class="small">Tips: Binary should be 0/1 और हर character 8 bits — spaces allowed.</div>
      <div class="small">Made with ❤️ — galaxygateway1.0</div>
    </footer>
  </div>

  <script>
    document.querySelector(".home").addEventListener("click", () => {
      window.open("index.html", "_self")
    })
    const inp = document.getElementById('input');
    const out = document.getElementById('output');
    const status = document.getElementById('status');
    const enc = document.getElementById('encoding');

    function textToBinary(text) {
      // Convert each character's charCode to 8-bit binary
      return Array.from(text).map(ch => {
        const bin = ch.charCodeAt(0).toString(2);
        return bin.padStart(8, '0');
      }).join(' ');
    }

    function binaryToText(binRaw) {
      // Remove any non 0/1 characters except spaces
      const cleaned = binRaw.trim().replace(/[^01\s]/g, '');
      if (!cleaned) throw new Error('Input में valid binary नहीं मिला।');
      // Split on spaces if present, else chunk every 8
      const tokens = cleaned.includes(' ') ? cleaned.split(/\s+/).filter(Boolean) : cleaned.match(/.{1,8}/g);
      if (!tokens) throw new Error('Binary input सही format में नहीं है।');
      const chars = tokens.map(tok => {
        if (!/^[01]{1,8}$/.test(tok)) throw new Error('Invalid chunk: "' + tok + '" — केवल 0/1 और max 8 bits।');
        // If token length < 8, pad left with zeros
        const padded = tok.padStart(8, '0');
        const code = parseInt(padded, 2);
        return String.fromCharCode(code);
      });
      return chars.join('');
    }

    // UI actions
    document.getElementById('toBinary').addEventListener('click', () => {
      const v = inp.value;
      if (!v) { status.textContent = 'Input खाली है।'; return }
      try {
        const res = textToBinary(v);
        out.textContent = res;
        enc.textContent = 'Binary (8-bit)';
        status.textContent = `Converted ${v.length} characters → ${res.replace(/\s+/g, '').length} bits (spaces shown).`;
      } catch (e) { status.textContent = e.message }
    });

    document.getElementById('toText').addEventListener('click', () => {
      const v = inp.value;
      if (!v) { status.textContent = 'Input खाली है।'; return }
      try {
        const res = binaryToText(v);
        out.textContent = res;
        enc.textContent = 'Text (decoded)';
        status.textContent = `Binary decoded → ${res.length} characters.`;
      } catch (e) { status.textContent = e.message }
    });

    document.getElementById('clear').addEventListener('click', () => { inp.value = ''; out.textContent = '—'; status.textContent = 'Cleared.'; enc.textContent = '—'; });

    document.getElementById('paste').addEventListener('click', async () => {
      try {
        const text = await navigator.clipboard.readText();
        inp.value = text;
        status.textContent = 'Clipboard pasted.';
      } catch (e) { status.textContent = 'Clipboard access denied.' }
    });

    document.getElementById('loadSample').addEventListener('click', () => { inp.value = 'Hello, नमस्ते! 123'; status.textContent = 'Sample loaded.' });

    document.getElementById('copyOutput').addEventListener('click', async () => {
      try { await navigator.clipboard.writeText(out.textContent); status.textContent = 'Output copied to clipboard.' } catch (e) { status.textContent = 'Copy failed.' }
    });

    document.getElementById('download').addEventListener('click', () => {
      const blob = new Blob([out.textContent], { type: 'text/plain;charset=utf-8' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url; a.download = 'output.txt'; document.body.appendChild(a); a.click(); a.remove(); URL.revokeObjectURL(url);
      status.textContent = 'Downloaded output.txt';
    });

    // allow Enter+Ctrl to convert quickly
    inp.addEventListener('keydown', (e) => {
      if (e.key === 'Enter' && (e.ctrlKey || e.metaKey)) {
        // Try auto-detect: if contains only 0/1 and spaces -> binary->text else text->binary
        const v = inp.value.trim();
        if (/^[01\s]+$/.test(v)) document.getElementById('toText').click();
        else document.getElementById('toBinary').click();
      }
    });

    // initial
    enc.textContent = '—';
  </script>
</body>

</html>